<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/libs/Bootstrap/bootstrap.min.css">


    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/loginStyle/login.css">
    <link rel="stylesheet" href="/css/signUpStyle/signup.css">
    <link rel="stylesheet" href="/css/signUpStyle/signup2.css">
    <link rel="stylesheet" href="/css/signUpStyle/signup3.css">
    <link rel="stylesheet" href="/css/font.css">
    <title>RoomyCo</title>
</head>



<body>
    <main>
        <section class="main-page">
            <div class="page-container row mx-0 p-0">
                <!-- Branding Section -->
                <div class="branding-section p-md-5 p-sm-3 col-3">
                    <div class="branding-header">
                        <img class="logo me-3" src="/images/loginPage/loginLogo.svg" alt="RoomyCo Logo">
                        <h5 class="text-uppercase poppins-bold">RoomyCo <span class="poppins-light">ROOMMATE</span>
                        </h5>
                    </div>
                    <div class="branding-body">
                        <p class="branding-text poppins-light text-start mb-5 pb-5">Tell us more
                            about you</p>
                    </div>

                    <!-- Step Indicator Section -->

                </div>

                <!-- Form Section -->
                <div class="col-9 pe-lg-5 text-md-center form-section">
                    <div class="steps-indicator ">
                        <div class="step-circle done poppins-light" id="step1"
                            onclick="loadPage('./signupFirstScreen.html')">1
                        </div>
                        <div class="step-circle done poppins-light" id="step2"
                            onclick="loadPage('./signupSecondScreen.html')">2
                        </div>
                        <div class="step-circle active poppins-light" id="step3"
                            onclick="loadPage('./signupThirdScreen.html')">
                            3</div>
                    </div>
                    <form class="page-form ps-md-5 pe-2 ms-5 needs-validation" id="signup3-form" novalidate>
                        <div class="mb-3">
                            <label for="locationEmirate" class="form-label">What is your location?</label>
                            <div class="d-flex   justify-content-start align-items-evenly gap-2 ">

                                <select required id="locationEmirate"
                                    class="form-select custom-select poppins-light me-3 p-3" name="location">
                                    <option disabled>Location</option>
                                    <option value="">Syria</option>

                                    <!-- Add options here -->
                                </select>
                                <div class="valid-feedback">
                                    look good
                                </div>
                                <div class="invalid-feedback">
                                    Please select a valid Location.
                                </div>

                                <select required id="locationCity" class="form-select custom-select poppins-light p-3"
                                    name="locationCity">
                                    <option disabled>City</option>
                                    <option value="">damascus</option>

                                    <!-- Add options here -->
                                </select>
                                <div class="valid-feedback">
                                    look good
                                </div>
                                <div class="invalid-feedback">
                                    Please select a valid City.
                                </div>
                            </div>
                        </div>

                        <div class="row justify-content-start align-items-evenly gap-2 mb-3">
                            <div class="col-auto me-md-5 d-flex justify-content-center align-items-center">
                                <label for="originCountry" class="form-label">Where are you from?</label>
                            </div>
                            <div class="col">
                                <select required id="originCountry" class="form-select custom-select poppins-light  p-3"
                                    name="originCountry">
                                    <option value="" disabled>Origin</option>
                                    <option value="">syria</option>

                                </select>
                                <div class="valid-feedback">
                                    look good
                                </div>
                                <div class="invalid-feedback">
                                    Please select a valid Origin.
                                </div>
                            </div>
                        </div>
                        <div class="row justify-content-start align-items-evenly gap-2">
                            <div class="col-auto me-md-5 d-flex justify-content-center align-items-center">
                                <label for="relegion" class="form-label">What's your religion?</label>
                            </div>
                            <div class="col">
                                <select required id="relegion" class="form-select custom-select poppins-light  p-3"
                                    name="relegion">
                                    <option value="" disabled>religion</option>
                                    <option value="">muslim</option>
                                    <!-- Add options here -->
                                </select>
                                <div class="valid-feedback">
                                    look good
                                </div>
                                <div class="invalid-feedback">
                                    Please select a valid religion.
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="day">Date of birth</label>
                            <div class="row g-2">
                                <div class="col">
                                    <select required class="form-select custom-select poppins-light p-3" id="day"
                                        name="day">
                                        <option value="" disabled>Day</option>
                                    </select>
                                    <div class="valid-feedback">
                                        look good
                                    </div>
                                    <div class="invalid-feedback">
                                        Please select a valid Day.
                                    </div>
                                </div>
                                <div class="col">
                                    <select required class="form-select custom-select poppins-light p-3" id="month"
                                        name="month">
                                        <option value="" disabled>Month</option>
                                        <option value="1">January</option>
                                        <option value="2">February</option>
                                        <option value="3">March</option>
                                        <option value="4">April</option>
                                        <option value="5">May</option>
                                        <option value="6">June</option>
                                        <option value="7">July</option>
                                        <option value="8">August</option>
                                        <option value="9">September</option>
                                        <option value="10">October</option>
                                        <option value="11">November</option>
                                        <option value="12">December</option>
                                    </select>
                                    <div class="valid-feedback">
                                        look good
                                    </div>
                                    <div class="invalid-feedback">
                                        Please select a valid Month.
                                    </div>
                                </div>
                                <div class="col">
                                    <select required class="form-select custom-select poppins-light p-3" id="year"
                                        name="year">
                                        <option value="" disabled>Year</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="row justify-content-center align-items-center mb-3">
                            <label class="form-label col-8 mb-0">Count of people prefer to live with</label>
                            <div class="d-flex align-items-center col-4 qty ">
                                <span class="d-flex justify-content-center align-items-center minus me-3">-</span>
                                <input type="number" class="count Poppins-medium" name="qty" value="1" min="1">
                                <span class="d-flex justify-content-center align-items-center plus ms-3">+</span>
                            </div>
                        </div>


                        <div class="row ">
                            <label class="col-6 form-label mb-3">Do you prefer any pets?</label>
                            <div class="col-6">
                                <input type="checkbox" id="petsToggle" name="petsToggle" class="toggleCheckbox " />
                                <label for="petsToggle" class='toggleContainer w-75'>
                                    <div class="poppins-light">Yes</div>
                                    <div class="poppins-light">No</div>
                                </label>
                            </div>
                        </div>
                        <div class="row mb-2">
                            <label class="col-6 form-label">Do you smoke?</label>
                            <div class="col-6">
                                <input type="checkbox" id="smokeToggle" name="smokeToggle" class="toggleCheckbox " />
                                <label for="smokeToggle" class='toggleContainer w-75'>
                                    <div class="poppins-light">Yes</div>
                                    <div class="poppins-light">No</div>
                                </label>
                            </div>
                        </div>


                        <div class="row ">
                            <div class="button-container d-flex justify-content-center">
                                <button type="submit" id="nxt-button"
                                    class="fw-normal btn sign-in-button d-flex justify-content-evenly w-100 py-3">
                                    Next
                                </button>
                            </div>
                        </div>
                    </form>

                </div>
            </div>
        </section>
    </main>


    <!-- JavaScript Files -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- validating form -->
    <script>
        // Example starter JavaScript for disabling form submissions if there are invalid fields
        (function () {
            'use strict'

            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            var forms = document.querySelectorAll('.needs-validation')

            // Loop over them and prevent submission
            Array.prototype.slice.call(forms)
                .forEach(function (form) {
                    form.addEventListener('submit', function (event) {
                        if (!form.checkValidity()) {
                            event.preventDefault()
                            event.stopPropagation()
                        }

                        form.classList.add('was-validated')
                    }, false)
                })
        })()
    </script>
    <!-- function to get the toggle buttons values  -->
    <script>
        const smoketoggleCheckbox = document.getElementById('smokeToggle');

        // Function to get the current value
        function getToggleValue() {
            return smoketoggleCheckbox.checked ? 'No' : 'Yes';
        }

        // Example usage: listen to change event
        smoketoggleCheckbox.addEventListener('change', () => {
            const value = getToggleValue();
            console.log("smokeToggle Toggle value:", value); // This will print "Yes" or "No"
        });

        const petstoggleCheckbox = document.getElementById('petsToggle');

        // Function to get the current value
        function getToggleValue2() {
            return petstoggleCheckbox.checked ? 'No' : 'Yes';
        }

        // Example usage: listen to change event
        petstoggleCheckbox.addEventListener('change', () => {
            const value = getToggleValue2();
            console.log("pets Toggle value:", value); // This will print "Yes" or "No"
        });

    </script>
    <!-- 
    script for adding the days and months for every year as option without adding it manually 
    -->
    <script>
        $(document).ready(function () {
            var $daySelect = $('#day');
            var $monthSelect = $('#month');
            var $yearSelect = $('#year');

            var startYear = 1960;
            var endYear = new Date().getFullYear();

            // Populate years
            for (var year = endYear; year >= startYear; year--) {
                $('<option>').val(year).text(year).appendTo($yearSelect);
            }

            // Function to populate days based on month and year
            function updateDays() {
                var month = parseInt($monthSelect.val(), 10);
                var year = parseInt($yearSelect.val(), 10);

                $daySelect.empty().append('<option value="" disabled>Day</option>'); // Clear previous days

                if (month && year) {
                    var daysInMonth = new Date(year, month, 0).getDate(); // Get the number of days in the selected month and year

                    for (var day = 1; day <= daysInMonth; day++) {
                        $('<option>').val(day).text(day).appendTo($daySelect);
                    }
                }
            }

            // Event listeners to update days when month or year changes
            $monthSelect.change(updateDays);
            $yearSelect.change(updateDays);

            // Initial population of days
            updateDays();
        });

    </script>
    <!-- 
        script for saving the form data to populate it later when visiting the page again 
         -->
    <script>
        document.addEventListener('change', (event) => {
            const form = event.target.closest('form');
            form = document.getElementById('signup3-form');
            if (form && form.id) {
                saveData(form.id);
            }
        });

        document.addEventListener('submit', (event) => {
            const form = event.target.closest('form');
            form = document.getElementById('signup3-form');
            if (form && form.id) {
                saveData(form.id);
            }
        });

    </script>
    <script>
        function handleNext() {
            const form = document.getElementById('signup3-form');

            if (form.checkValidity()) {
                event.preventDefault();
                const selectedPurpose = sessionStorage.getItem('signup-form-purpose');
                console.log(selectedPurpose);

                if (selectedPurpose === "Seeker of roommate") {
                    window.location.href = '/screens/Home/home.html';
                    console.log("seeker or roomate");
                } else if (selectedPurpose === "Seeker of room") {
                    loadPage('./signupForSeekerRoom.html');
                    console.log("seeker or room");

                } else if (selectedPurpose === "I want to list my place only") {
                    loadPage('./signupToListPlace.html');
                    console.log("list place");

                } else {
                    console.error("Unknown option selected");
                }
            } else {
                form.classList.add('was-validated');
            }
        }

        // Attach the click event to the Next button
        document.getElementById('nxt-button').addEventListener('click', function (event) {
            console.log("hello");
            event.preventDefault(); 
            handleNext();
        });
    </script>

    <!-- BootStrap JS -->
    <script src="/libs/Bootstrap/bootstrap.bundle.min.js"></script>
    <!-- JQuery JS -->
    <script src="/libs/noUiSlider/nouislider.min.js"></script>
    <script src="/libs/jquery/jquery.min.js"></script>

</body>

</html>